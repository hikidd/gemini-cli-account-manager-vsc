<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini CLI Account Manager</title>
    <link rel="stylesheet" href="{{STYLE_URI}}">
</head>
<body>
    <div class="header" style="flex-direction: column; align-items: stretch; gap: 12px;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
             <div class="tabs" style="display:flex; gap:16px; font-weight:600; font-size:13px;">
                <span id="tabAccounts" class="tab-item active" style="cursor:pointer; padding-bottom:4px; border-bottom:2px solid var(--vscode-progressBar-background);" data-i18n="tabAccounts">Accounts</span>
                <span id="tabSessions" class="tab-item" style="cursor:pointer; padding-bottom:4px; border-bottom:2px solid transparent; color:var(--vscode-descriptionForeground);" data-i18n="tabSessions">Sessions</span>
            </div>
            <button id="langToggle" class="btn btn-icon" title="Switch Language" style="display:flex; align-items:center; gap:4px; padding-left:8px; padding-right:8px;">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zm0 13a6 6 0 1 1 0-12A6 6 0 0 1 8 14zM8 2a6 6 0 0 0-2.6 11.4c-.6-1.5-1-3.3-1.2-5.4h7.6c-.1 2.1-.6 3.9-1.2 5.4A6 6 0 0 0 8 2zm0 12c-1.1 0-2.1-.5-2.8-1.4.6-1.3 1-3 1.1-4.6h3.4c.1 1.6.5 3.3 1.1 4.6-.7.9-1.7 1.4-2.8 1.4zm0-7H4.2c.1-1.6.5-3.3 1.1-4.6.7-.9 1.7-1.4 2.8-1.4 1.1 0 2.1.5 2.8 1.4-.6 1.3-1 3-1.1 4.6H8z"/></svg>
                <span>ZH/EN</span>
            </button>
        </div>

        <div class="header-actions" style="justify-content: flex-end;">
            <button id="refreshAllBtn" class="btn" title="Refresh All">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor" style="margin-right: 4px;"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.75 8a4.5 4.5 0 0 1-8.61 1.5H2.1A6 6 0 0 0 14.25 8h1.7l-2.55-3.5L10.9 8h1.85zM3.25 8a4.5 4.5 0 0 1 8.61-1.5h2.04A6 6 0 0 0 1.75 8H.05l2.55 3.5L5.1 8H3.25z"/></svg>
                <span data-i18n="refreshAll">Refresh All</span>
            </button>
            <button id="loginBtn" class="btn">
                <span data-i18n="addAccount">+ Add Account</span>
            </button>
        </div>
    </div>

    <div id="viewAccounts">
        <div id="accountList" class="account-list">
            <!-- Accounts will be injected here -->
        </div>
    </div>

    <div id="viewSessions" style="display:none;">
        <div id="sessionList" class="account-list">
            <!-- Sessions will be injected here -->
        </div>
    </div>

    <!-- Bottom Control Panel -->
    <div class="bottom-panel">
        <div class="settings-group">
            <!-- Model Selector -->
            <div class="settings-row">
                <div class="section-title">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 5V3a3 3 0 0 0-6 0v3H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1z"/></svg>
                    <span data-i18n="model">Model</span>
                </div>
                <select id="modelSelector" class="dropdown">
                    <option value="gemini-3-flash-preview">Gemini 3 Flash</option>
                    <option value="gemini-3-pro-preview">Gemini 3 Pro</option>
                    <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                    <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                </select>
            </div>

            <!-- YOLO Mode Toggle -->
            <div class="settings-row">
                <div class="section-title">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M7.5 1v5h-4l6 9v-6h4l-6-9z"/></svg>
                    <span data-i18n="yoloMode">YOLO Mode</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="autoAcceptToggle">
                    <span class="slider round"></span>
                </label>
            </div>
        </div>

        <!-- Action Grid (Blue Buttons) -->
        <div class="panel-grid">
            <button class="btn-panel btn-blue" id="btnRules">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M13.5 2h-11C1.7 2 1 2.7 1 3.5v9c0 .8.7 1.5 1.5 1.5h11c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5zM4 12H3v-1h1v1zm0-2H3V9h1v1zm0-2H3V7h1v1zm0-2H3V5h1v1zm8 6H5v-1h7v1zm0-2H5V9h7v1zm0-2H5V7h7v1zm0-2H5V5h7v1z"/></svg>
                <span>Rules</span>
            </button>
            <button class="btn-panel btn-blue" id="btnMCP">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M9 1h-2v2H5v2h2v2h2V5h2V3H9V1zm-4 7H2v2h3v2h2v-2h2v-2H5V8zm7 0h-3v2h2v2h2v-2h2V8h-3z"/></svg>
                <span>MCP</span>
            </button>
            <button class="btn-panel btn-blue" id="btnReset">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M13.6 2.3C12.2.9 10.2 0 8 0 3.6 0 0 3.6 0 8h2c0-3.3 2.7-6 6-6 1.7 0 3.2.7 4.2 1.8L9 7h7V0l-2.4 2.3zM2.4 13.7C3.8 15.1 5.8 16 8 16c4.4 0 8-3.6 8-8h-2c0 3.3-2.7 6-6 6-1.7 0-3.2-.7-4.2-1.8L7 9H0v7l2.4-2.3z"/></svg>
                <span data-i18n="restart">Restart</span>
            </button>
        </div>

        <!-- Footer Grid (Dark Buttons) -->
        <div class="panel-footer-grid">
            <button class="btn-panel btn-dark" id="btnFeedback">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M5.5 12h5v1h-5v-1zm5-2h-5v1h5v-1zM8 4c-2.2 0-4 1.8-4 4v3l-1 1v1h10v-1l-1-1V8c0-2.2-1.8-4-4-4zm-2.5 5.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5zm5 0c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5z"/></svg>
                <span data-i18n="feedback">Feedback</span>
            </button>
            <button class="btn-panel btn-dark" id="btnStar">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M8 .2l2.5 5 5.5.8-4 4 1 5.5L8 13l-5 2.5 1-5.5-4-4 5.5-.8L8 .2z"/></svg>
                <span>Star</span>
            </button>
        </div>
    </div>

    <script src="{{SCRIPT_URI}}"></script>
</body>
</html>
